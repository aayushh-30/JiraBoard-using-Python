{% extends "base.html" %}

{% block title %}Edit User - {{ user.username }}{% endblock %}

{% block content %}
<!-- Sidebar -->
{% include 'admin_sidebar.html' %}

<!-- Main Content -->
<div class="content-wrapper">
<div class="container mt-4">
    <div class="row">
        <div class="col-md-8">
            <h2>Edit User - {{ user.username }}</h2>
            
            <div class="card">
                <div class="card-header">
                    <h5>User Information</h5>
                </div>
                <div class="card-body">
                    <form method="POST">
                        <div class="form-group">
                            <label for="username">Username</label>
                            <input type="text" class="form-control" id="username" name="username" 
                                   value="{{ user.username }}" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" class="form-control" id="email" name="email" 
                                   value="{{ user.email }}" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="contact_no">Contact Number</label>
                            <input type="text" class="form-control" id="contact_no" name="contact_no" 
                                   value="{{ user.contact_no or '' }}">
                        </div>
                        
                        <div class="form-group">
                            <label for="role">Role</label>
                            <select class="form-control" id="role" name="role">
                                <option value="admin" {% if user.role and user.role.role_name|string == 'admin' %}selected{% endif %}>Admin</option>
                                <option value="manager" {% if user.role and user.role.role_name|string == 'manager' %}selected{% endif %}>Manager</option>
                                <option value="developer" {% if user.role and user.role.role_name|string == 'developer' %}selected{% endif %}>Developer</option>
                                <option value="client" {% if user.role and user.role.role_name|string == 'client' %}selected{% endif %}>Client</option>
                            </select>
                        </div>
                        
                        <div class="form-group form-check">
                            <input type="checkbox" class="form-check-input" id="is_approved" name="is_approved" 
                                   {% if user.is_approved %}checked{% endif %}>
                            <label class="form-check-label" for="is_approved">
                                User Approved
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <button type="submit" class="btn btn-primary">Update User</button>
                            <a href="{{ url_for('user.detail', user_id=user.user_id) }}" class="btn btn-secondary">Cancel</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
{% endblock %}
